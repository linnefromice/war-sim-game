---
description: 要件を再述し、リスクを評価し、ステップバイステップの実装計画を作成。コードに触れる前にユーザーの確認を待つ。
---

# Planコマンド

このコマンドは**planner**エージェントを呼び出し、コードを書く前に包括的な実装計画を作成します。

## このコマンドの機能

1. **要件を再述** - 何を構築する必要があるか明確化
2. **リスクを特定** - 潜在的な問題とブロッカーを表面化
3. **ステップ計画を作成** - 実装をフェーズに分解
4. **確認を待つ** - 進める前にユーザーの承認を必須受信

## 使用タイミング

`/plan`を使用する場合:
- 新機能を開始
- 重要なアーキテクチャ変更を行う
- 複雑なリファクタリングに取り組む
- 複数のファイル/コンポーネントが影響を受ける
- 要件が不明確または曖昧

## 動作方法

plannerエージェントは以下を行います:

1. **リクエストを分析**し要件を明確な言葉で再述
2. **フェーズに分解**（具体的で実行可能なステップ付き）
3. **コンポーネント間の依存関係を特定**
4. **リスクを評価**し潜在的なブロッカーを特定
5. **複雑さを推定**（高/中/低）
6. **計画を提示**し明示的な確認を待つ

## 重要な注意

**クリティカル**: plannerエージェントは「yes」「proceed」または同様の肯定的な応答で明示的に計画を確認するまで**コードを書きません**。

変更が必要な場合は以下のように応答:
- 「modify: [あなたの変更]」
- 「different approach: [代替案]」
- 「フェーズ2をスキップしてフェーズ3を先に」

## 他のコマンドとの統合

計画後:
- `/tdd`を使用してテスト駆動開発で実装
- ビルドエラーが発生したら`/build-and-fix`を使用
- 完成した実装をレビューするために`/code-review`を使用

## 関連エージェント

このコマンドは`planner`エージェントを呼び出します:
`~/.claude/agents/planner.md`
